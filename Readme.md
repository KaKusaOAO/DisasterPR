![災難公關](./docs/icon.png)
# 災難公關

這是一個以 C# 實作的「災難公關」遊戲程式庫，同時實作了簡單的伺服器和[客戶端](https://github.com/KaKusaOAO/DisasterPR-Unity/)。

這個專案的出現主要是因為身為玩家常常會遇到遊戲相關問題，像是斷線的玩家沒有被妥善處理、遊戲在後台會被凍結無法動作等問題，所以想自己實作一個版本出來並嘗試解決這些問題。

這個實作解決的問題有：

* 玩家斷線會依照遊戲狀態而有不同的處理方式：
  * 在等待開始遊戲期間斷線時，會被移出房間。
  * 在遊戲期間斷線時，會變成 AI 玩家代玩。
    * 期間玩家可嘗試用一樣的名稱再次進入同個遊戲繼續遊玩。
* 遊戲在後台時（在看其他分頁時）不會讓遊戲狀態凍結。
* 遊戲計時由伺服器控制。

這個實作新增的功能有：

* 理論上可以支援到無限多格填空。
  * 實際遊玩會被手中持有的 11 張卡牌限制，而且太多空格會大幅度影響可玩性。
  * 但是終於可以玩到 3 格空格的題目了。
* 玩家可以輸入指令以達成某些目前在介面中無法直接使用的功能。
  * 目前可以用 `/ai` 指令加入 AI 玩家。（可能會變動）
  * 可以用 `/cardpack ...` 指令完成卡包相關的進階操作。
* 可以支援到 8 人。
  * 其實原作應該就有計畫要支援到 8 人，因為有相關的介面素材。

這個實作預計要新增的功能有：

* 玩家可以鎖定持有的卡牌，供之後回合使用。
  * 鎖定的卡牌無法使用。
  * 鎖定的卡牌不會在每回合被重置，而是會被保留。

## 實作相關分享（？）

網路封包的相關處理是由 Minecraft 啟發的。封包格式有點像是：
```
這個封包大概這麼大。
以下是我的封包。
    這個封包是「更新玩家的分數」。
    玩家是 .... 。
    分數是 .... 。
以上是我的封包。
```

更多相關的封包處理可以參考 https://wiki.vg/ ，因為大部分都是受 Minecraft 啟發。
